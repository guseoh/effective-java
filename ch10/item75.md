### ✅ 예외의 상세 메시지에 실패 관련 정보를 담으라

`Java`에서 예외를 잡지 못해 프로그램이 실패하면, 예외의 스택 트레이스 정보가 자동으로 출력되며, 이 정보를 통해 실패의 원인을 분석하고 해결해야 합니다.
특히 문제가 재현되기 어려운 경우에는 추가적인 정보를 얻기 어렵거나 불가능하므로, 예외 시 출력하는 `toString` 메서드에 가능한 한 많은 실패 원인 정보를 제공하도록 하는 것이 매우 중요합니다.

### 올바른 예외 실패 메시지 작성 가이드

- 예외가 **발생한 실패 순간을 정확**하게 포착하려면, 해당 예외에 관여된 모든 매개변수와 필드의 값을 반드시 상세 메시지에 담아야 합니다.
- 예외 메시지는 가독성 면에서 다소 장황해지더라도, 포함된 정보의 내용이 훨씬 더 중요합니다. 왜냐하면 이 메시지를 읽고 분석하는 주체는 사용자가 아닌 개발자이기 때문입니다.
- 관련 정보를 예외에 포함시키는 효율적인 방법으로 예외 생성자를 통해 관련된 정보를 미리 전달받아 상세 메시지를 생성하는 것을 고려할 수 있습니다.

### 예외 실패 메시지 주의사항

- 예외 상세 메시지에 실패 관련 정보를 풍부하게 담는 것은 중요하지만, 보안과 관련된 정보는 각별히 주의하여 다루어야 합니다. 특히 비밀번호나 암호 키 같은 민감한 정보는 상세 메시지에 절대 포함해서는 안 됩니다.
- 예외의 상세 메시지(개발자용)와 사용자에게 보여줄 오류 메시지(사용자용)를 혼동해서는 안됩니다.

### 예외 생성자 예시 코드

예를 들어, `IndexOutOfBoundsException`의 상세 메시지에 배열이나 컬렉션의 범위 최솟값, 최댓값, 그리고 범위를 벗어난 인덱스 값을 함께 담는 것이 좋습니다.
다만, 자바에서는 자바 9에 와서야 이 예외에 정수 인덱스 값 하나만을 인수로 받는 새로운 생성자를 추가했습니다.(문제가 된 인덱스만 넘겨주면, 자바가 알아서 그 인덱스를 포함한 상세 오류 메시지를 만들어주는
기능)    
개인적으로 이는 인덱스가 벗어난 대상을 찾아 그 길이를 읽는 메서드가 많은 시스템 자원(리소스)을 소모하여 성능 문제를 일으키는 것을 피하기 위함이 아니었을까 라는 생각을 해봤습니다.

```java
/**
 *
 * @param lowerBound 인덱스의 최솟값
 * @param upperBound 인덱스의 최댓값 + 1
 * @param index 인덱스의 실제값
 */
public IndexOutOfBoundsException(int lowerBound, int upperBound, int index) {
    super(String.format(
            "최솟값: %d, 최댓값: %d, 인덱스: %d",
            lowerBound, upperBound, index));

    //프로그램에서 사용할 수 있도록 실패 정보를 저장
    this.lowerBound = lowerBound;
    this.upperBound = upperBound;
    this.index = index;
}
```

### 추가 내용
- 예외는 실패와 관련한 정보를 얻을 수 있는 접근자 메소드(getter, setter)를 제공하는 게 좋습니다. - 아이템 70 내용
- '`toString()`이 반환한 값에 포함된 정보를 얻어올 수 있는 API를 제공하자' 라는 관점에서 접근자 메소드를 제공 권장 - 75p